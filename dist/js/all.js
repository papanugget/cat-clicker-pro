const controller={init:function(){catsModel.currentCat=catsModel.cats[0],catListViewer.init(),catViewer.init(),adminView.init()},getCurrent:function(){return catsModel.currentCat},getCats:function(){return catsModel.cats},setCurrent:function(t){catsModel.currentCat=t},clickCount:function(){catsModel.currentCat.clicks++,catViewer.render()},updateCat:function(){document.querySelectorAll(".catButton").forEach(t=>{t.innerHTML===catsModel.currentCat.name&&(t.innerHTML=adminView.catName.value)}),catsModel.currentCat.name=adminView.catName.value,catsModel.currentCat.image=adminView.catURL.value,catsModel.currentCat.clicks=adminView.catClicks.value,catViewer.render()}};let catsModel={cats:[{name:"Kedi",image:"./img/1.jpg",id:0,clicks:0},{name:"Graven",image:"./img/2.jpg",id:1,clicks:0},{name:"Fluffikins",image:"./img/3.jpg",id:2,clicks:0},{name:"Fangster",image:"./img/4.jpg",id:3,clicks:0},{name:"Mr. Widdershins",image:"./img/5.jpg",id:4,clicks:0}],currentCat:null};const catListViewer={init:function(){this.catList=document.querySelector("#catList"),this.render()},render:function(){let t="",e=controller.getCats();e.forEach(e=>{t+=`\n                <li class="catButton">${e.name}</li> \n                `,catList.innerHTML=t}),catList.addEventListener("click",t=>{e.forEach(e=>{t.target.innerHTML===e.name&&(controller.setCurrent(e),catViewer.render())})})}},catViewer={init:function(){this.catDisplay=document.querySelector("#catDisplay"),this.clickCounter=document.querySelector("#clicks"),catDisplay.addEventListener("click",t=>{"catImage"===t.target.className&&controller.clickCount()}),this.render()},render:function(){let t="",e=controller.getCurrent();t=`\n            <img src="${e.image}" class="catImage">\n            <p>Name: ${e.name}</p>\n            <p>ID#: ${e.id}</p>\n            <p>Number of clicks:<span id="clicks">${e.clicks}</span><p>\n        `,catDisplay.innerHTML=t,adminView.formFill()}},adminView={init:function(){this.adminBtn=document.querySelector("#adminBtn"),this.adminForm=document.querySelector("#adminForm"),this.cancelBtn=document.querySelector("#cancelBtn"),this.submitBtn=document.querySelector("#submitBtn"),this.catName=document.querySelector("#catName"),this.catURL=document.querySelector("#catURL"),this.catClicks=document.querySelector("#catClicks"),adminBtn.addEventListener("click",this.toggleAdmin),cancelBtn.addEventListener("click",this.toggleAdmin),submitBtn.addEventListener("click",this.submitData)},toggleAdmin:function(t){t.preventDefault(),adminForm.classList.contains("hidden")?adminForm.classList.remove("hidden"):adminForm.classList.add("hidden"),adminView.formFill()},formFill:function(){let t=controller.getCurrent();catName.value=t.name,catURL.value=t.image,catClicks.value=t.clicks},submitData:function(t){controller.updateCat(),adminView.toggleAdmin(t)}};controller.init();
//# sourceMappingURL=data:application/json;charset=utf8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImNvbnRyb2xsZXIuanMiLCJtb2RlbC5qcyIsInZpZXcuanMiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUMvREE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQ3BEQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EiLCJmaWxlIjoiYWxsLmpzIiwic291cmNlc0NvbnRlbnQiOlsiLy8gPT09PT09PT09PSBjb250cm9sbGVyID09PT09PT09PT09IC8vIFxyXG5jb25zdCBjb250cm9sbGVyID0ge1xyXG4gICAgaW5pdDogZnVuY3Rpb24oKXtcclxuICAgICAgICAvLyBzZXRzIGN1cnJlbnQgY2F0IHRvIGZpcnN0IGluIGFycmF5XHJcbiAgICAgICAgY2F0c01vZGVsLmN1cnJlbnRDYXQgPSBjYXRzTW9kZWwuY2F0c1swXTtcclxuICAgICAgICBjYXRMaXN0Vmlld2VyLmluaXQoKTtcclxuICAgICAgICBjYXRWaWV3ZXIuaW5pdCgpO1xyXG4gICAgICAgIGFkbWluVmlldy5pbml0KCk7XHJcbiAgICB9LFxyXG4gICAgLy8gaW5pdHMgdmlld3NcclxuICAgIGdldEN1cnJlbnQ6IGZ1bmN0aW9uKCl7XHJcbiAgICAgICAgcmV0dXJuIGNhdHNNb2RlbC5jdXJyZW50Q2F0O1xyXG4gICAgfSxcclxuICAgIGdldENhdHM6IGZ1bmN0aW9uKCl7XHJcbiAgICAgICAgcmV0dXJuIGNhdHNNb2RlbC5jYXRzO1xyXG4gICAgfSxcclxuICAgIC8vIHNldHMgY3VycmVudGx5IHZpZXdlZCBjYXQgdG8gb2JqXHJcbiAgICBzZXRDdXJyZW50OiBmdW5jdGlvbihvYmope1xyXG4gICAgICAgIGNhdHNNb2RlbC5jdXJyZW50Q2F0ID0gb2JqO1xyXG4gICAgfSxcclxuICAgIC8vIGNsaWNrIGNvdW50ZXJcclxuICAgIGNsaWNrQ291bnQ6IGZ1bmN0aW9uKCl7XHJcbiAgICAgICAgLy8gaW5jcmVtZW50cyBjbGlja3MgZm9yIGN1cnJlbnRDYXRcclxuICAgICAgICBjYXRzTW9kZWwuY3VycmVudENhdC5jbGlja3MrKztcclxuICAgICAgICAvLyByZS1yZW5kZXJzIGNhdFZpZXdlciB3aXRoIHVwZGF0ZWQgY2xpY2sgY291bnRcclxuICAgICAgICBjYXRWaWV3ZXIucmVuZGVyKCk7XHJcbiAgICB9LFxyXG4gICAgLy8gdXBkYXRlIGNhdFxyXG4gICAgdXBkYXRlQ2F0OiBmdW5jdGlvbigpe1xyXG4gICAgICAgIC8vIGNvbnNvbGUubG9nKCdhcnJheSB1cGRhdGVkJyk7XHJcbiAgICAgICAgLy8gc2VsZWN0cyBjYXRMaXN0XHJcbiAgICAgICAgbGV0IGNhdExpc3QgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKCcuY2F0QnV0dG9uJyk7XHJcbiAgICAgICAgLy8gY29uc29sZS5sb2coY2F0TGlzdCk7XHJcbiAgICAgICAgLy8gY2hlY2tzIGZvciBtYXRjaGluZyBjYXQgbmFtZSBpbiBsaXN0IGFuZCB1cGRhdGVzIG5hbWUgaW4gbGlzdCBcclxuICAgICAgICBjYXRMaXN0LmZvckVhY2goKGNhdE5hbWUpID0+IHtcclxuICAgICAgICAgICAgaWYoY2F0TmFtZS5pbm5lckhUTUwgPT09IGNhdHNNb2RlbC5jdXJyZW50Q2F0Lm5hbWUpe1xyXG4gICAgICAgICAgICAgICAgY2F0TmFtZS5pbm5lckhUTUwgPSBhZG1pblZpZXcuY2F0TmFtZS52YWx1ZTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH0pO1xyXG4gICAgICAgIC8vIHNldHMgdmFsdWVzIG9mIGN1cnJlbnRDYXQgdG8gdGhlIHZhbHVlcyBmcm9tIHRoZSBhZG1pbiBmb3JtXHJcbiAgICAgICAgY2F0c01vZGVsLmN1cnJlbnRDYXQubmFtZSA9IGFkbWluVmlldy5jYXROYW1lLnZhbHVlO1xyXG4gICAgICAgIGNhdHNNb2RlbC5jdXJyZW50Q2F0LmltYWdlID0gYWRtaW5WaWV3LmNhdFVSTC52YWx1ZTtcclxuICAgICAgICBjYXRzTW9kZWwuY3VycmVudENhdC5jbGlja3MgPSBhZG1pblZpZXcuY2F0Q2xpY2tzLnZhbHVlO1xyXG4gICAgICAgIC8vIHJlbmRlcnMgY2F0Vmlld2VyIHdpdGggdXBkYXRlZCB2YWx1ZXNcclxuICAgICAgICBjYXRWaWV3ZXIucmVuZGVyKCk7XHJcbiAgICB9XHJcbn07XHJcbmNvbnRyb2xsZXIuaW5pdCgpO1xyXG4vLyBmdW5jdGlvbiBjb250cm9sbGVySW5pdCgpe1xyXG4vLyAgICAgbW9kZWxJbml0KCk7XHJcbi8vICAgICB2aWV3SW5pdCgpO1xyXG4vLyB9XHJcbi8vIGZ1bmN0aW9uIGdldENhdHMoKXtcclxuLy8gICAgIHJldHVybiBnZXRBbGxDYXRzKCk7XHJcbi8vIH1cclxuXHJcbi8vIGZ1bmN0aW9uIHNldEN1cnJlbnQoY2F0KXtcclxuLy8gICAgIGNhdHNNb2RlbC5jdXJyZW50Q2F0ID0gY2F0O1xyXG4vLyB9XHJcbi8vIGZ1bmN0aW9uIGNsaWNrQ291bnQoKXtcclxuLy8gICAgIGNhdHNNb2RlbC5jdXJyZW50Q2F0LmNsaWNrcysrO1xyXG4vLyAgICAgY2xpY2tSZW5kZXIoKTtcclxuLy8gfVxyXG4iLCIvLyA9PT09PT09PT09IE1vZGVsID09PT09PT0gLy9cclxubGV0IGNhdHNNb2RlbCA9IHtcclxuICAgIGNhdHM6IFt7IFxyXG4gICAgICAgICAgICBuYW1lOiBcIktlZGlcIixcclxuICAgICAgICAgICAgaW1hZ2U6IFwiLi9pbWcvMS5qcGdcIixcclxuICAgICAgICAgICAgaWQ6IDAsXHJcbiAgICAgICAgICAgIGNsaWNrczogMCBcclxuICAgICAgICB9LFxyXG4gICAgICAgIHsgXHJcbiAgICAgICAgICAgIG5hbWU6IFwiR3JhdmVuXCIsXHJcbiAgICAgICAgICAgIGltYWdlOiBcIi4vaW1nLzIuanBnXCIsXHJcbiAgICAgICAgICAgIGlkOiAxLFxyXG4gICAgICAgICAgICBjbGlja3M6IDBcclxuICAgICAgICB9LFxyXG4gICAgICAgIHtcclxuICAgICAgICAgICAgbmFtZTogXCJGbHVmZmlraW5zXCIsXHJcbiAgICAgICAgICAgIGltYWdlOiBcIi4vaW1nLzMuanBnXCIsXHJcbiAgICAgICAgICAgIGlkOiAyLFxyXG4gICAgICAgICAgICBjbGlja3M6IDBcclxuICAgICAgICB9LFxyXG4gICAgICAgIHtcclxuICAgICAgICAgICAgbmFtZTogXCJGYW5nc3RlclwiLFxyXG4gICAgICAgICAgICBpbWFnZTogXCIuL2ltZy80LmpwZ1wiLFxyXG4gICAgICAgICAgICBpZDogMyxcclxuICAgICAgICAgICAgY2xpY2tzOiAwXHJcbiAgICAgICAgfSxcclxuICAgICAgICB7XHJcbiAgICAgICAgICAgIG5hbWU6IFwiTXIuIFdpZGRlcnNoaW5zXCIsXHJcbiAgICAgICAgICAgIGltYWdlOiBcIi4vaW1nLzUuanBnXCIsXHJcbiAgICAgICAgICAgIGlkOiA0LFxyXG4gICAgICAgICAgICBjbGlja3M6IDBcclxuICAgICAgICB9XSxcclxuICAgICAgICBjdXJyZW50Q2F0OiBudWxsXHJcbn07XHJcblxyXG4vLyBmdW5jdGlvbiBtb2RlbEluaXQoKXtcclxuLy8gICAgIGlmKCFsb2NhbFN0b3JhZ2UuY2F0cyl7XHJcbi8vICAgICAgICAgbG9jYWxTdG9yYWdlLmNhdHMgPSBKU09OLnN0cmluZ2lmeShjYXRzKTtcclxuLy8gICAgIH1cclxuLy8gfVxyXG4vLyBmdW5jdGlvbiBnZXRBbGxDYXRzKCl7XHJcbi8vICAgICAvLyBjYXRzLmZvckVhY2goKGNhdCkgPT4ge1xyXG4vLyAgICAgLy8gICAgIGNvbnNvbGUubG9nKGNhdC5uYW1lKTtcclxuLy8gICAgIC8vICAgICBjb25zb2xlLmxvZyhjYXQuaW1hZ2UpO1xyXG4vLyAgICAgLy8gICAgIGNvbnNvbGUubG9nKGNhdC5pZCk7XHJcbi8vICAgICAvLyB9KTtcclxuLy8gICAgIHJldHVybiBKU09OLnBhcnNlKGxvY2FsU3RvcmFnZS5jYXRzKTtcclxuLy8gfVxyXG4vLyBmdW5jdGlvbiBhZGQob2JqKSB7XHJcbi8vICAgICBsZXQgZGF0YSA9IEpTT04ucGFyc2UobG9jYWxTdG9yYWdlLmNhdHMpO1xyXG4vLyAgICAgZGF0YS5wdXNoKG9iaik7XHJcbi8vICAgICBsb2NhbFN0b3JhZ2UuY2F0cyA9IEpTT04uc3RyaW5naWZ5KGRhdGEpO1xyXG4vLyB9IiwiLy8gPT09PT09PT09PSB2aWV3ID09PT09PT09PSAvL1xyXG5jb25zdCBjYXRMaXN0Vmlld2VyID0ge1xyXG4gICAgaW5pdDogZnVuY3Rpb24oKXtcclxuICAgICAgICAvLyBzZWxlY3QgRE9NIGVsZW1lbnRzXHJcbiAgICAgICAgdGhpcy5jYXRMaXN0ID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignI2NhdExpc3QnKVxyXG4gICAgICAgIHRoaXMucmVuZGVyKCk7XHJcbiAgICB9LFxyXG4gICAgcmVuZGVyOiBmdW5jdGlvbigpe1xyXG4gICAgICAgIGxldCBodG1sU3RyID0gJyc7XHJcbiAgICAgICAgbGV0IGNhdHMgPSBjb250cm9sbGVyLmdldENhdHMoKTtcclxuICAgICAgICBjYXRzLmZvckVhY2goKGNhdCkgPT4ge1xyXG4gICAgICAgICAgICBodG1sU3RyICs9IGBcclxuICAgICAgICAgICAgICAgIDxsaSBjbGFzcz1cImNhdEJ1dHRvblwiPiR7Y2F0Lm5hbWV9PC9saT4gXHJcbiAgICAgICAgICAgICAgICBgO1xyXG4gICAgICAgICAgICAgICAgY2F0TGlzdC5pbm5lckhUTUwgPSBodG1sU3RyO1xyXG4gICAgICAgIH0pO1xyXG4gICAgICAgIC8vIGNhdExpc3QuYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCAoY2F0Q29weSkgPT4ge1xyXG4gICAgICAgIC8vICAgICBjb25zb2xlLmxvZyhjYXRDb3B5KTtcclxuICAgICAgICAvLyAgICAgICAgIGxldCBjYXRDb3B5ID0gZS50YXJnZXQuaW5uZXJIVE1MO1xyXG4gICAgICAgIC8vICAgICAgICAgY2F0cy5mb3JFYWNoKChjYXQpID0+IHtcclxuICAgICAgICAvLyAgICAgICAgICAgICBjb25zb2xlLmxvZyhjYXQubmFtZSk7XHJcbiAgICAgICAgLy8gICAgICAgICAgICAgY29uc29sZS5sb2coY2F0Q29weSk7XHJcbiAgICAgICAgLy8gICAgICAgICAgICAgaWYoY2F0Lm5hbWUgPT09IGNhdENvcHkpe1xyXG4gICAgICAgIC8vICAgICAgICAgICAgICAgICBjb250cm9sbGVyLnNldEN1cnJlbnQoY2F0Q29weSk7XHJcbiAgICAgICAgLy8gICAgICAgICAgICAgfVxyXG4gICAgICAgIC8vICAgICAgICAgfSk7XHJcbiAgICAgICAgLy8gICAgICAgICBjYXRWaWV3ZXIucmVuZGVyKCk7XHJcbiAgICAgICAgLy8gfSk7XHJcbiAgICAgICAgY2F0TGlzdC5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIChlKSA9PiB7XHJcbiAgICAgICAgICAgIC8vIGNvbnNvbGUubG9nKGUudGFyZ2V0LmlubmVySFRNTCk7XHJcbiAgICAgICAgICAgIGNhdHMuZm9yRWFjaCgoY2F0KSA9PiB7XHJcbiAgICAgICAgICAgICAgICBpZihlLnRhcmdldC5pbm5lckhUTUwgPT09IGNhdC5uYW1lKXtcclxuICAgICAgICAgICAgICAgICAgICAvLyBjb25zb2xlLmxvZyhjYXQpO1xyXG4gICAgICAgICAgICAgICAgICAgIGNvbnRyb2xsZXIuc2V0Q3VycmVudChjYXQpO1xyXG4gICAgICAgICAgICAgICAgICAgIGNhdFZpZXdlci5yZW5kZXIoKTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgfSk7XHJcbiAgICB9XHJcbn07XHJcbmNvbnN0IGNhdFZpZXdlciA9IHtcclxuICAgIGluaXQ6IGZ1bmN0aW9uKCl7XHJcbiAgICAgICAgdGhpcy5jYXREaXNwbGF5ID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignI2NhdERpc3BsYXknKTtcclxuICAgICAgICB0aGlzLmNsaWNrQ291bnRlciA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJyNjbGlja3MnKTtcclxuICAgICAgICBjYXREaXNwbGF5LmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgKGUpID0+IHtcclxuICAgICAgICAgICAgLy8gY29uc29sZS5sb2coZS50YXJnZXQudmFsdWUpO1xyXG4gICAgICAgICAgICBpZihlLnRhcmdldC5jbGFzc05hbWUgPT09ICdjYXRJbWFnZScpe1xyXG4gICAgICAgICAgICAgICAgY29udHJvbGxlci5jbGlja0NvdW50KCk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9KTtcclxuICAgICAgICB0aGlzLnJlbmRlcigpO1xyXG4gICAgfSxcclxuICAgIHJlbmRlcjogZnVuY3Rpb24oKXtcclxuICAgICAgICAvLyBjb25zb2xlLmxvZyhjb250cm9sbGVyLmdldEN1cnJlbnQoKSk7XHJcbiAgICAgICAgbGV0IGh0bWxTdHIgPSAnJztcclxuICAgICAgICBsZXQgY3VycmVudENhdCA9IGNvbnRyb2xsZXIuZ2V0Q3VycmVudCgpO1xyXG4gICAgICAgIGh0bWxTdHIgPSBgXHJcbiAgICAgICAgICAgIDxpbWcgc3JjPVwiJHtjdXJyZW50Q2F0LmltYWdlfVwiIGNsYXNzPVwiY2F0SW1hZ2VcIj5cclxuICAgICAgICAgICAgPHA+TmFtZTogJHtjdXJyZW50Q2F0Lm5hbWV9PC9wPlxyXG4gICAgICAgICAgICA8cD5JRCM6ICR7Y3VycmVudENhdC5pZH08L3A+XHJcbiAgICAgICAgICAgIDxwPk51bWJlciBvZiBjbGlja3M6PHNwYW4gaWQ9XCJjbGlja3NcIj4ke2N1cnJlbnRDYXQuY2xpY2tzfTwvc3Bhbj48cD5cclxuICAgICAgICBgO1xyXG4gICAgICAgIGNhdERpc3BsYXkuaW5uZXJIVE1MID0gaHRtbFN0cjtcclxuICAgICAgICBhZG1pblZpZXcuZm9ybUZpbGwoKTtcclxuICAgIH1cclxufTtcclxuY29uc3QgYWRtaW5WaWV3ID0ge1xyXG4gICAgaW5pdDogZnVuY3Rpb24oKXtcclxuICAgICAgICAvLyBhZG1pbiBhcmVhIERPTSBlbGVtZW50c1xyXG4gICAgICAgIHRoaXMuYWRtaW5CdG4gPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiI2FkbWluQnRuXCIpO1xyXG4gICAgICAgIHRoaXMuYWRtaW5Gb3JtID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignI2FkbWluRm9ybScpO1xyXG4gICAgICAgIHRoaXMuY2FuY2VsQnRuID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignI2NhbmNlbEJ0bicpO1xyXG4gICAgICAgIHRoaXMuc3VibWl0QnRuID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignI3N1Ym1pdEJ0bicpO1xyXG4gICAgICAgIHRoaXMuY2F0TmFtZSA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJyNjYXROYW1lJyk7XHJcbiAgICAgICAgdGhpcy5jYXRVUkwgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcjY2F0VVJMJyk7XHJcbiAgICAgICAgdGhpcy5jYXRDbGlja3MgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcjY2F0Q2xpY2tzJyk7XHJcbiAgICAgICAgLy8gY29uc29sZS5sb2coY2F0TmFtZSk7XHJcbiAgICAgICAgLy8gY29uc29sZS5sb2coYWRtaW5CdG4pO1xyXG4gICAgICAgIC8vIGNvbnNvbGUubG9nKGFkbWluRm9ybSk7XHJcbiAgICAgICAgYWRtaW5CdG4uYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCB0aGlzLnRvZ2dsZUFkbWluLFxyXG4gICAgICAgICAgICAvLyBsZXQgY3VycmVudENhdCA9IGNvbnRyb2xsZXIuZ2V0Q3VycmVudCgpO1xyXG4gICAgICAgICAgICAvLyBjb25zb2xlLmxvZyhjdXJyZW50Q2F0KTtcclxuICAgICAgICAgICAgLy8gY2F0TmFtZS52YWx1ZSA9IGN1cnJlbnRDYXQubmFtZTtcclxuICAgICAgICAgICAgLy8gY2F0VVJMLnZhbHVlID0gY3VycmVudENhdC5pbWFnZTtcclxuICAgICAgICAgICAgLy8gY2F0Q2xpY2tzLnZhbHVlID0gY3VycmVudENhdC5jbGlja3M7XHJcbiAgICAgICAgICAgIC8vIHJldHVybiAoYWRtaW5Gb3JtLmNsYXNzTGlzdC5jb250YWlucygnaGlkZGVuJykgPyBhZG1pbkZvcm0uY2xhc3NMaXN0LnJlbW92ZSgnaGlkZGVuJykgOiBhZG1pbkZvcm0uY2xhc3NMaXN0LmFkZCgnaGlkZGVuJykpO1xyXG4gICAgICAgICk7XHJcbiAgICAgICAgY2FuY2VsQnRuLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgdGhpcy50b2dnbGVBZG1pbik7XHJcbiAgICAgICAgc3VibWl0QnRuLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgdGhpcy5zdWJtaXREYXRhKTtcclxuICAgIH0sXHJcbiAgICB0b2dnbGVBZG1pbjogZnVuY3Rpb24oZSl7XHJcbiAgICAgICAgLy8gY29uc29sZS5sb2coJ2J1dHRvbiBjbGlja2VkJyk7XHJcbiAgICAgICAgZS5wcmV2ZW50RGVmYXVsdCgpO1xyXG4gICAgICAgIGFkbWluRm9ybS5jbGFzc0xpc3QuY29udGFpbnMoJ2hpZGRlbicpID8gYWRtaW5Gb3JtLmNsYXNzTGlzdC5yZW1vdmUoJ2hpZGRlbicpIDogYWRtaW5Gb3JtLmNsYXNzTGlzdC5hZGQoJ2hpZGRlbicpO1xyXG4gICAgICAgIGFkbWluVmlldy5mb3JtRmlsbCgpO1xyXG4gICAgfSxcclxuICAgIGZvcm1GaWxsOiBmdW5jdGlvbigpe1xyXG4gICAgICAgIC8vIGNvbnNvbGUubG9nKCdmb3JtIGZpbGwgY2FsbGVkJyk7XHJcbiAgICAgICAgbGV0IGN1cnJlbnRDYXQgPSBjb250cm9sbGVyLmdldEN1cnJlbnQoKTtcclxuICAgICAgICBjYXROYW1lLnZhbHVlID0gY3VycmVudENhdC5uYW1lO1xyXG4gICAgICAgIGNhdFVSTC52YWx1ZSA9IGN1cnJlbnRDYXQuaW1hZ2U7XHJcbiAgICAgICAgY2F0Q2xpY2tzLnZhbHVlID0gY3VycmVudENhdC5jbGlja3M7XHJcbiAgICB9LFxyXG4gICAgc3VibWl0RGF0YTogZnVuY3Rpb24oZSl7XHJcbiAgICAgICAgY29udHJvbGxlci51cGRhdGVDYXQoKTtcclxuICAgICAgICBhZG1pblZpZXcudG9nZ2xlQWRtaW4oZSk7XHJcbiAgICB9XHJcbn07XHJcblxyXG4vLyBjb25zdCBjYXRMaXN0ID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignI2NhdExpc3QnKTtcclxuLy8gZnVuY3Rpb24gY2F0TGlzdFJlbmRlcigpe1xyXG4vLyAgICAgbGV0IGh0bWxTdHIgPSAnJztcclxuLy8gICAgIGxldCBjYXRzID0gY29udHJvbGxlci5nZXRDYXRzKCk7XHJcbi8vICAgICBjYXRMaXN0LmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgKGUpID0+IHtcclxuLy8gICAgICAgICBjb25zb2xlLmxvZygnY2F0IGxpc3QgY2xpY2tlZCcpO1xyXG4vLyAgICAgfSk7XHJcbi8vICAgICBjYXRzLmZvckVhY2goKGNhdCkgPT4ge1xyXG4vLyAgICAgICAgIGh0bWxTdHIgKz0gYFxyXG4vLyAgICAgICAgICAgICA8bGkgY2xhc3M9XCJjYXRCdXR0b25cIj4ke2NhdC5uYW1lfTwvbGk+XHJcbi8vICAgICAgICAgYDtcclxuLy8gICAgICAgICAvLyBjb25zb2xlLmxvZyhodG1sU3RyKTtcclxuLy8gICAgICAgICBjYXRMaXN0LmlubmVySFRNTCA9IGh0bWxTdHI7XHJcbi8vICAgICB9KTtcclxuLy8gfVxyXG4vLyBjb25zdCBjYXRWaWV3ZXIgPSB7XHJcbi8vICAgICBpbml0OiBmdW5jdGlvbigpe1xyXG4vLyAgICAgICAgIC8vIHNlbGVjdCBET00gZWxlbWVudHNcclxuLy8gICAgICAgICB0aGlzLmNhdERpc3BsYXkgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcjY2F0RGlzcGxheScpO1xyXG4vLyAgICAgICAgIHRoaXMuY2xpY2tDb3VudERpc3BsYXkgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcjY2xpY2tzJyk7XHJcbi8vICAgICAgICAgLy8gYWRkIGV2ZW50bGlzdGVuZXIgdG8gY2F0IGRpc3BsYXkgXHJcbi8vICAgICAgICAgY2F0RGlzcGxheS5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIChlKSA9PiB7XHJcbi8vICAgICAgICAgICAgIGlmKGUudGFyZ2V0LmNsYXNzTmFtZSA9ICdjYXRJbWFnZScpe1xyXG4vLyAgICAgICAgICAgICAgICAgY29udHJvbGxlci5jbGlja0NvdW50KCk7XHJcbi8vICAgICAgICAgICAgIH1cclxuLy8gICAgICAgICB9KTtcclxuLy8gICAgICAgICB0aGlzLnJlbmRlcigpO1xyXG4vLyAgICAgfSxcclxuLy8gICAgIHJlbmRlcjogZnVuY3Rpb24oKXtcclxuLy8gICAgICAgICBsZXQgY3VycmVudENhdCA9IGNvbnRyb2xsZXIuZ2V0Q3VycmVudCgpO1xyXG4vLyAgICAgICAgIGxldCBkaXNwbGF5ID0gJyc7XHJcbi8vICAgICAgICAgY2xpY2tDb3VudERpc3BsYXkuaW5uZXJIVE1MID0gY3VycmVudENhdC5jbGlja3M7XHJcbi8vICAgICAgICAgaWYoKVxyXG4vLyAgICAgfVxyXG5cclxuLy8gfVxyXG4vLyBjb25zb2xlLmxvZygnY29udHJvbGxlciBjb25uZWN0ZWQhJyk7XHJcbi8vIGNvbnN0IGNhdExpc3QgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcjY2F0TGlzdCcpO1xyXG4vLyBjb25zdCBjYXRQaWMgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcjY2F0RGlzcGxheScpO1xyXG4vLyAvLyBhZGQgZXZlbnQgbGlzdGVuZXIgdG8gVUwgdGFyZ2V0XHJcbi8vIGNhdExpc3QuYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCBjYXRDbGljayk7XHJcbi8vIC8vIGFkZCBldmVudCBsaXN0ZW5lciB0byBjYXQgcGljc1xyXG4vLyBjYXRQaWMuYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCBjbGlja0NvdW50KTtcclxuLy8gLy8gY29uc29sZS5sb2coJ3ZpZXcgY29ubmVjdGVkJyk7XHJcbi8vIGZ1bmN0aW9uIHZpZXdJbml0KCl7XHJcbi8vICAgICB0aGlzLmNhdExpc3QgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcjY2F0TGlzdCcpO1xyXG4vLyAgICAgdGhpcy5jYXREaXNwbGF5ID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignI2NhdERpc3BsYXknKTtcclxuLy8gICAgIHRoaXMuY2xpY2tDb3VudCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJyNjbGlja3MnKTtcclxuLy8gfVxyXG4vLyBmdW5jdGlvbiBjYXRDbGljayhjYXQpe1xyXG4vLyAgICAgbGV0IGNhdE5hbWUgPSBjYXQudGFyZ2V0LnRleHRDb250ZW50O1xyXG4vLyAgICAgLy8gY29uc29sZS5sb2coY2F0TmFtZSk7XHJcbi8vICAgICBjYXRSZW5kZXIoY2F0TmFtZSk7XHJcbi8vIH1cclxuLy8gZnVuY3Rpb24gY2F0TGlzdFJlbmRlcigpe1xyXG4vLyAgICAgbGV0IGh0bWxTdHIgPSAnJztcclxuLy8gICAgIGdldENhdHMoKS5mb3JFYWNoKChjYXQpID0+IHtcclxuLy8gICAgICAgICBodG1sU3RyICs9IGBcclxuLy8gICAgICAgICAgICAgPGxpIGNsYXNzPVwiY2F0QnV0dG9uXCI+JHtjYXQubmFtZX08L2xpPlxyXG4vLyAgICAgICAgIGBcclxuLy8gICAgIH0pO1xyXG4vLyAgICAgdGhpcy5jYXRMaXN0LmlubmVySFRNTCA9IGh0bWxTdHI7XHJcbi8vIH1cclxuLy8gZnVuY3Rpb24gY2F0UmVuZGVyKGNhdE5hbWUpe1xyXG4vLyAgICAgbGV0IGNhdFZpZXcgPSAnJztcclxuLy8gICAgIC8vIGxvb3AgdGhydSBjYXRzIGFycmF5IGFuZCBtYXRjaCBjYXROYW1lIHRvIGNhdC5uYW1lXHJcbi8vICAgICBnZXRDYXRzKCkuZm9yRWFjaCgoY2F0KSA9PiB7XHJcbi8vICAgICAgICAgaWYoY2F0Lm5hbWUgPT09IGNhdE5hbWUpe1xyXG4vLyAgICAgICAgICAgICAvLyBjb25zb2xlLmxvZyhjYXQpO1xyXG4vLyAgICAgICAgICAgICAvLyBjb25zb2xlLmxvZyhjYXROYW1lKTtcclxuLy8gICAgICAgICAgICAgY2F0VmlldyA9IGBcclxuLy8gICAgICAgICAgICAgICAgIDxpbWcgc3JjPVwiJHtjYXQuaW1hZ2V9XCIgY2xhc3M9XCJjYXRJbWFnZVwiPlxyXG4vLyAgICAgICAgICAgICAgICAgPHA+TmFtZTogJHtjYXQubmFtZX08L3A+XHJcbi8vICAgICAgICAgICAgICAgICA8cD5JRCM6ICR7Y2F0LmlkfTwvcD5cclxuLy8gICAgICAgICAgICAgICAgIDxwPk51bWJlciBvZiBjbGlja3M6PHNwYW4gaWQ9XCJjbGlja3NcIj4wPC9zcGFuPjxwPlxyXG4vLyAgICAgICAgICAgICBgXHJcbi8vICAgICAgICAgY2F0RGlzcGxheS5pbm5lckhUTUwgPSBjYXRWaWV3O1xyXG4vLyAgICAgICAgIH1cclxuLy8gICAgICAgICAvLyBjb25zb2xlLmxvZyhjYXQubmFtZSk7XHJcbi8vICAgICAgICAgLy8gY29uc29sZS5sb2coY2F0TmFtZSk7XHJcbi8vICAgICAgICAgLy8gaWYoY2F0Lm5hbWUgPT09IGNhdE5hbWUpe1xyXG4vLyAgICAgICAgIC8vICAgICBjb25zb2xlLmxvZygnaGVsbG8nKTtcclxuLy8gICAgICAgICAvLyB9XHJcbi8vICAgICB9KTtcclxuLy8gfVxyXG4vLyBmdW5jdGlvbiBjbGlja1JlbmRlcihjbGlja3Mpe1xyXG4vLyAgICAgY29uc3QgY2xpY2tDb3VudGVyID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ2NsaWNrcycpO1xyXG4vLyAgICAgY2xpY2tDb3VudGVyLmlubmVySFRNTCA9IGNsaWNrcztcclxuLy8gfSJdfQ==
